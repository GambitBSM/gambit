##########################################################################
## GAMBIT configuration for a random scan of the DMEFT model
##
## Includes simply the decays of the new model.
##########################################################################


Parameters:

  # SM parameters.
  StandardModel_SLHA2: !import include/StandardModel_SLHA2_defaults.yaml

  StandardModel_Higgs:
     mH: 125.09

  # Direct detection
  nuclear_params_ChPT_sigmapiN:
    sigmapiN     : 0.050
    Bc5m         : -0.51e-3
    gA           : 1.2723
    mG           : 0.848
    sigmas       : 0.0413
    DeltauDeltad : 0.521
    Deltas       : -0.031
    B0mu         : 0.0061
    B0md         : 0.0133
    B0ms         : 0.268
    # Nuclear dipole moments
    mup          : 2.793
    mun          : -1.913
    mus          : -0.064
    gTu          : 0.794
    gTd          : -0.204
    gTs          : 3.2e-4
    BT10up       : 3.0
    BT10dp       : 0.24
    BT10s        : 0.0
    rs2          : -0.115

  DMEFT:
    # DM mass
    mchi:
      range: [5, 100]
      prior_type: log
    # Scale of new physics
    Lambda: 1000.
    # EM interactions (only turn on at loop-level -- not concerned with these)
    C51: 0.
    C52: 0.
    # Dim 6 -- qq chi chi bilinears
    # vector vector
    C61: 0.
    # #  range: [-12.56637, 12.56637]
    # axial-vector vector
    C62: 0.
    #  range: [-12.56637, 12.56637]
    # vector axial-vector
    C63: 0.
    #  range: [-12.56637, 12.56637]
    # axial-vector axial-vector
    C64: 0.
    #  range: [-12.56637, 12.56637]
    # Dim 7 -- gluons
    C71: 0.
    #  range: [-12.56637, 12.56637]
    C72: 0.
    #  range: [-12.56637, 12.56637]
    C73: 0.
    #  range: [-12.56637, 12.56637]
    C74: 0. 
    #  range: [-12.56637, 12.56637]
    # Dim 7 -- Higgs induced bilinears
    # Scalar scalar
    C75: 0.
    #  range: [-12.56637, 12.56637]
    # Pseudoscalar scalar
    C76: 0. 
    #  range: [-12.56637, 12.56637]
    # Scalar pseudoscalar
    C77: 0.
    #  range: [-12.56637, 12.56637]
    # Pseudoscalar pseudoscalar
    C78: 0.
    #  range: [-12.56637, 12.56637]
    # Dim 7 -- tensor currents
    # sigma sigma
    C79: 0.
    #  range: [-12.56637, 12.56637]
    # sigma*ig5 sigma
    C710: 0.
    #  range: [-12.56637, 12.56637]
    mtrunIN: 162.9

  DAMA_xsec:
    sigmap_SI:
      range: [1e-6, 1e-3]
      prior_type: log
    sigmap_SD: 0
    sigman_SD: 0


  # NFW with standard & central values for prelims
  Halo_gNFW_rho0:
    rho0: 0.3
    v0: 235.0
    vesc: 550.0
    vrot: 235.0
    rs: 20.0
    r_sun: 8.5
    alpha: 1
    beta: 3
    gamma: 1


Priors:

  # All the priors are simple for this scan, so they are specified directly in the Parameters section.

Printer:

  printer: hdf5
  options:
    output_file: "DAMA_TEST.hdf5"
    group: "/DAMA_TEST"
    buffer_length: 10
    delete_file_on_restart: true


Scanner:

  use_scanner: diver

  scanners:

    square_grid:
      plugin: square_grid
      like: LogLike
      grid_pts: 100
    
    random: 
      plugin: random
      like: LogLike
      point_number: 100

    diver: 
      plugin: diver
      like: LogLike
      NP: 100
      convthresh: 1E-1
      lambdajDE: false

ObsLikes:

  # Direct detection
  - capability: DAMA_LogLikelihood_mod_xsec_test
    purpose:    LogLike

Rules:

  - capability: RD_fraction
    function: RD_fraction_one

  - capability: DDCalc_Couplings
    function: DDCalc_Couplings_NR_WCs

  - capability: DD_nonrel_WCs
    function: DD_nonrel_WCs_flavscheme

Logger:

  redirection:
    [Debug] : "debug.log"
    [Default] : "default.log"
    [DecayBit] : "DecayBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [SpecBit] : "SpecBit.log"
    [Dependency Resolver] : "dep_resolver.log"

KeyValues:

  dependency_resolution:
    prefer_model_specific_functions: true

  likelihood:
    model_invalid_for_lnlike_below: -5e5
    model_invalid_for_lnlike_below_alt: -1e5

  default_output_path: "runs/DAMA_TEST/"

  debug: true

