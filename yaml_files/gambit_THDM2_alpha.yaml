# Minimal GAMBIT DarkBit test initialization file (in YAML)

###################################
# Input parameter declarations
###################################

Parameters:
    StandardModel_SLHA2: !import include/StandardModel_SLHA2_defaults.yaml

    THDM_with_alpha:
        mh0:
            #fixed_value: 125.7
            range: [124.9, 126.5] # 2-sigma range PDG 2015
            prior_type: flat
        mH0:
            range: [200, 1000]
            prior_type: flat
        mA:
            range: [5, 2000]
            prior_type: flat
        mC:
            range: [300, 2000]
            prior_type: flat
        alpha:
            range: [-1.5708, 1.5708]
            prior_type: flat
        lambda_6:
            fixed_value: 0.0
        lambda_7:
            fixed_value: 0.0
        m12_2:
            range: [-4000000, 4000000]
            prior_type: flat
        tb:
            range: [0.5, 60]
            prior_type: flat
        y_type:
            fixed_value: 1

##############################
# Prior setup
##############################

Priors:


##############################
# Printer setup
##############################

Printer:

  # Select printer to use via string tag
  # (currently only ascii printer available)
  printer: hdf5

  # This options node is passed on wholesale to
  # the printer object; required options may
  # therefore vary according to the selected
  # printer.
  options:
    # name of output file
    output_file: "gambit_output.hdf5"
    group: "/data"
    delete_file_on_restart: true


##############################
# Scanner setup
##############################

Scanner:
  use_scanner: multinest

  scanners:
    square_grid:
      plugin: square_grid
      version: ">=1.0"
      like: LogLike
      grid_pts: 2 #NxN grid

    random:
     plugin: random_sampler
     point_number: 200
     output_file:  output
     like:  LogLike
     files:
       output_file: "weights ..."

    multinest:
      plugin: MultiNest
      like:  LogLike
      nlive: 200
      tol: 1
      updInt: 1

      # No options to set, but still need the nodes at the moment...
      aux_printer_txt_options:
      aux_printer_stats_options:
      aux_printer_live_options:

###############################
# Observables of interest
###########################

ObsLikes:

    # ----- likelihoods ----

    # - capability: theoretical_constraint_likelihood_THDM
    #   purpose: LogLike

    # - purpose:    LogLike
    #   capability: unitarity_constraint_likelihood_THDM
    #
    # - purpose:    LogLike
    #   capability: perturbativity_constraint_likelihood_THDM
    #
    # - purpose:    LogLike
    #   capability: stability_constraint_likelihood_THDM
    #
    # - purpose:    LogLike
    #   capability: alignment_limit_likelihood_THDM
    #
    # - purpose:    LogLike
    #   capability: oblique_parameters_likelihood_THDM
    #
    # - capability: b2sgamma_LL
    #   function: b2sgamma_likelihood
    #   purpose: LogLike
    #
    # - capability: b2sll_LL
    #   funtion: b2sll_likelihood
    #   purpose: LogLike
    #
    # - capability: b2ll_LL
    #   funtion: b2ll_likelihood
    #   purpose: LogLike
    #
    # - capability: SL_LL
    #   funtion: SL_likelihood
    #   purpose: LogLike


    # Calculate the LEP Higgs likelihood

    - purpose:    LogLike
      capability: LEP_Higgs_LogLike

    #  Calculate the LHC Higgs likelihood

    - purpose:    LogLike
      capability: LHC_Higgs_LogLike
      function: get_HS_LHC_LogLike

    # # get full calcualtion from HiggsBounds - for debugging
    # - capability: HB_LogLike_Full
    #   function: calc_HB_LogLike_Full
    #   purpose: LogLike


  # ----- observables ----

    - capability: THDM_Higgs_Decays_output
      function: printGammaGamma_h0_2_THDM_HB
      purpose: Observable

    # - capability: bsgamma
    #   function: SI_bsgamma
    #   purpose: Observable



Rules:

    - module: ColliderBit
      options:
        HB_analysis_type: 1

    - capability: HiggsBounds_4_2_1_init  # Initialization of HiggsBounds backend
      options:
        HB_analysis_type: 1

    - capability: THDM_spectrum
      function: get_THDM_spectrum

    - capability: THDM_Higgs_Couplings_For_HB
      function: THDM_Couplings_For_HB

    - capability: THDM_Higgs_Couplings_SM_Like_Model
      function: THDM_Couplings_SM_Like_Model

    - capability: THDM_DecayWidths_For_HB
      function: THDM_Decay_Widths_For_HB

    - capability: THDM_DecayWidths_SM_Like_Model
      function: THDM_Decay_Widths_SM_Like_Model

    - capability: THDM_TotalWidths
      function: THDM_Total_Widths

    - capability: THDM_TotalWidths_SM_Like_Model
      function: THDM_Total_Widths_SM_Like_Model

    - capability: SLHA_THDM
      function: fill_THDM_SLHA

    - capability: SuperIso_modelinfo
      function: SI_fill

    - capability: b2sll_M
      function: b2sll_measurements

    # - capability: Higgs_decay_rates
    #   function: h0_1_decays_THDM

    # - capability: h0_2_decay_rates
    #   function: h0_2_decays_THDM


#########################
# Logging setup
#########################

Logger:

  # Redirection of specific messages according to tags
  # Can redirect to stdout or stderr by specifying these as the "filenames".
  # Obviously this also means it is impossible to redirect output to actual
  # files with these names.

  redirection:
    [Debug] : "debug.log"
    [Default] : "default.log"
    [DecayBit] : "DecayBit.log"
    [DarkBit] : "DarkBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [ColliderBit] : "ColliderBit.log"
    [SpecBit] : "SpecBit.log"
    [Dependency Resolver] : "dep_resolver.log"

##########################
# Name/Value Section
##########################

KeyValues:

  KeyValues:

  likelihood:
    model_invalid_for_lnlike_below: -1e6
    model_invalid_for_lnlike_below_alt: -5e5
    debug: true

  dependency_resolution:
    prefer_model_specific_functions: true
    use_old_routines: false

  #By default, errors are fatal and warnings non-fatal
  exceptions:
    dependency_resolver_error: fatal
    dependency_resolver_warning: non-fatal
    core_warning: fatal
    ExampleBit_A_error: non-fatal

  default_output_path: "runs/thdm/"

  enable_testing: false
