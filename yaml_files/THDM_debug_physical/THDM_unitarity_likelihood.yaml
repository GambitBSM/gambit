# Minimal GAMBIT THDM test initialization file (in YAML)

###################################
# Input parameter declarations
###################################

Parameters:
    StandardModel_SLHA2: !import ../include/StandardModel_SLHA2_defaults.yaml

    THDMII_physical:
        m_h:
            range: [125.0, 126.0]
            prior_type: flat
        m_H:
            range: [130.0, 5000.0]
            prior_type: flat
        m_A:
            range: [130.0, 5000.0]
            prior_type: flat
        m_Hp:
            range: [130.0, 5000.0]
            prior_type: flat
        lambda_6:
            fixed_value: 0.0
        lambda_7:
            fixed_value: 0.0
        m12_2:
            range: [-50000, 700000]
            prior_type: flat
        sba:
            range: [0.9, 1.0]
            prior_type: flat
        tanb:
            range: [0.1, 100]
            prior_type: log

##############################
# Prior setup
##############################

Priors:

##############################
# Printer setup
##############################

Printer:

  # Select printer to use via string tag
  printer: hdf5

  # This options node is passed on wholesale to
  # the printer object; required options may
  # therefore vary according to the selected
  # printer.
  options:
    # name of output file
    output_file: "THDM_output_unitarity_likelihood.hdf5"
    group: "/data"
    delete_file_on_restart: true


##############################
# Scanner setup
##############################

Scanner:
  use_scanner: de

  scanners:
    square_grid:
      plugin: square_grid
      version: ">=1.0"
      like: LogLike
      grid_pts: 1000 #NxN grid

    random:
     plugin: random
     point_number: 1000
     output_file:  output
     like:  LogLike
     files:
       output_file: "weights ..."

    multinest:
      plugin: multinest
      like:  LogLike
      nlive: 4000
      tol: 0.1
      updInt: 1

    de:
      plugin: diver
      like: LogLike
      NP: 2500
      convthresh: 1e-4
      verbosity: 1

      # No options to set, but still need the nodes at the moment...
      aux_printer_txt_options:
      aux_printer_stats_options:
      aux_printer_live_options:

ObsLikes:

    ###########################
    # Likelihoods
    ###########################

    - purpose:    LogLike
      capability: unitarity_likelihood_THDM

    #################
    # Observables
    #################

    ## physical basis

    - capability: mh0_pole
      function: obs_mh0_pole
      purpose: Observable

    - capability: mh0_running
      function: obs_mh0_running
      purpose: Observable

    - capability: mH0_pole
      function: obs_mH0_pole
      purpose: Observable

    - capability: mH0_running
      function: obs_mH0_running
      purpose: Observable

    - capability: mA0_pole
      function: obs_mA0_pole
      purpose: Observable

    - capability: mA0_running
      function: obs_mA0_running
      purpose: Observable

    - capability: mHpm_pole
      function: obs_mHpm_pole
      purpose: Observable

    - capability: mHpm_running
      function: obs_mHpm_running
      purpose: Observable

    ## generic basis

    - capability: lambda_1
      function: obs_lambda_1
      purpose: Observable

    - capability: lambda_2
      function: obs_lambda_2
      purpose: Observable

    - capability: lambda_3
      function: obs_lambda_3
      purpose: Observable

    - capability: lambda_4
      function: obs_lambda_4
      purpose: Observable

    - capability: lambda_5
      function: obs_lambda_5
      purpose: Observable

    - capability: lambda_6
      function: obs_lambda_6
      purpose: Observable

    - capability: lambda_7
      function: obs_lambda_7
      purpose: Observable

    - capability: m12_2
      function: obs_m12_2
      purpose: Observable

    - capability: m11_2
      function: obs_m11_2
      purpose: Observable

    - capability: m22_2
      function: obs_m22_2
      purpose: Observable

    ## mixing angles

    - capability: tanb
      function: obs_tanb
      purpose: Observable

    - capability: alpha
      function: obs_alpha
      purpose: Observable

Rules:

    - capability: THDM_spectrum
      function: get_THDM_spectrum

    - capability: perturbativity_likelihood_THDM
      function: get_perturbativity_likelihood_THDM
      options:
        check_all_scales: false

    - capability: stability_likelihood_THDM
      function: get_stability_likelihood_THDM
      options:
        check_all_scales: false

    - capability: unitarity_likelihood_THDM
      function: get_unitarity_likelihood_THDM
      options:
        check_all_scales: false

    - capability: NLO_unitarity_likelihood_THDM
      function: get_NLO_unitarity_likelihood_THDM
      options:
        check_all_scales: true
    
    - capability: alignment_likelihood_THDM
      function: get_alignment_likelihood_THDM
      options:
        check_all_scales: false

    - capability: oblique_parameters_likelihood_THDM
      function: get_oblique_parameters_likelihood_THDM
      options:
        check_all_scales: false

    - capability: global_minimum_discriminant_likelihood
      function: get_global_minimum_discriminant_likelihood
      options:
        check_all_scales: false

    - capability: THDM_couplings_for_HiggsBounds
      function: get_THDM_couplings_for_HiggsBounds

    - capability: THDM_couplings_SM_Like_Model
      function: get_THDM_couplings_SM_Like_Model
    
    - capability: THDM_decay_widths_for_HiggsBounds
      function: get_THDM_decay_widths_for_HiggsBounds
    
    - capability: THDM_decay_widths_SM_like_model
      function: get_THDM_decay_widths_SM_like_model
    
    - capability: THDM_total_widths
      function: get_THDM_total_widths
    
    - capability: THDM_total_widths_SM_like_model
      function: get_THDM_total_widths_SM_like_model

    - capability: SuperIso_modelinfo
      function: SI_fill
    
    - capability: b2sll_M
      function: b2sll_measurements

    - capability: Bsmumu_untag
      function: SI_Bsmumu_untag
      module: FlavBit

    - capability: bsgamma
      function: SI_bsgamma
      module: FlavBit

    # Choose to use gm2calc for g-2
    - capability: muon_gm2
      function: SI_muon_gm2

    # Choose to base the SM prediction for g-2 on e+e- data
    - capability: muon_gm2_SM
      function: gm2_SM_ee

    # Choose to use superiso for DeltaMBs calc
    - capability: DeltaMs
      function: SI_Delta_MBs
        

#########################
# Logging setup
#########################

Logger:

  # Redirection of specific messages according to tags
  # Can redirect to stdout or stderr by specifying these as the "filenames".
  # Obviously this also means it is impossible to redirect output to actual
  # files with these names.

  redirection:
    [Debug] :  "stderr"
    [Default] :  "stderr"
    [DecayBit] :  "stderr"
    [DarkBit] :  "stderr"
    [PrecisionBit] :  "stderr"
    [ColliderBit] :  "stderr"
    [SpecBit] :  "stderr"
    [Dependency Resolver] :  "stderr"
    [Scanner]:  "stderr"

##########################
# Name/Value Section
##########################

KeyValues:

  likelihood:
    model_invalid_for_lnlike_below: -1e6
    model_invalid_for_lnlike_below_alt: -5e5
    debug: false

  dependency_resolution:
    prefer_model_specific_functions: true
    use_old_routines: false

  #By default, errors are fatal and warnings non-fatal
  exceptions:
    dependency_resolver_error: fatal
    dependency_resolver_warning: non-fatal
    core_warning: fatal
    ExampleBit_A_error: non-fatal

  default_output_path: "runs/THDM_debug_physical/"
  enable_testing: true
  debug: true